<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
	.left{ width:100px; height:100px; border:1px solid #fff; float:left; }
	.right{ width:300px; height:300px; float:left; }
	 #pic{  
            width: 80px;  
            height: 80px;  
            position: absolute;  
            left: 0;  
            right: 0;              
     } 
	</style>
    <script type="text/javascript" src="jquery.min.js"></script>
</head>
<body>
 <div class="left">
 	<span data-val="123">123</span> <span data-val="456">456</span> <span data-val="789">789</span>
 </div>  
<div id="pic">  
       我在移动
</div>  
 <div class="right">
 	

 </div>



<script type="text/javascript">


	function drags(obj){ 
           this.gapX = 0;
           this.gapY = 0;
           this.obj = obj;
          
           this.obj.bind("mousedown",this.start); 
	} 	

    drags.prototype.start = function (event){
    	           this.obj = $('#pic');
                    if(event.button==0){//判断是否点击鼠标左键  
                      
                        this.gapX=event.clientX-this.obj.offset().left;  
                        this.gapY=event.clientY-this.obj.offset().top;  
                    
                       // console.log(this.gapX,this.gapY);
                        //movemove事件必须绑定到$(document)上，鼠标移动是在整个屏幕上的  
                        $(document).bind("mousemove",this.move);  
                        //此处的$(document)可以改为obj  
                        $(document).bind("mouseup",this.stop);     
                    }  
                    return false;//阻止默认事件或冒泡

    }

    drags.prototype.move = function (event){  
    	this.obj = $('#pic');
    	 console.log(222);
			                    this.obj.css({  
			                        "left":(event.clientX-this.gapX)+"px",  
			                        "top":(event.clientY-this.gapY)+"px"  
			                    });  
			                    return false;//阻止默认事件或冒泡  
			                }  

    drags.prototype.stop = function(){  
			                    //解绑定，这一步很必要，前面有解释  
			                    $(document).unbind("mousemove",this.move);  
			                    $(document).unbind("mouseup",this.stop);  
			                      
			                } 

    var objs= new drags($('#pic'));  
            
    //objs();
         /*   var drag=function(obj){  
              
                obj.bind("mousedown",start);  
  
                function start(event){  
                    if(event.button==0){//判断是否点击鼠标左键  

                        gapX=event.clientX-obj.offset().left;  
                        gapY=event.clientY-obj.offset().top;  
                        //movemove事件必须绑定到$(document)上，鼠标移动是在整个屏幕上的  
                        $(document).bind("mousemove",move);  
                        //此处的$(document)可以改为obj  
                        $(document).bind("mouseup",stop);  
                         
                    }  
                    return false;//阻止默认事件或冒泡  
                }  
                function move(event){  
                    obj.css({  
                        "left":(event.clientX-gapX)+"px",  
                        "top":(event.clientY-gapY)+"px"  
                    });  
                    return false;//阻止默认事件或冒泡  
                }  
                function stop(){  
                    //解绑定，这一步很必要，前面有解释  
                    $(document).unbind("mousemove",move);  
                    $(document).unbind("mouseup",stop);  
                      
                }  
            }  
            obj=$("#pic");  
            drag(obj);//传入的必须是jQuery对象，否则不能调用jQuery的自定义函数*/  
          


</script>


</body>
</html>